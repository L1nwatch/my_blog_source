{% extends "base.html" %}
{% load custom_filter %}

{% block sidebar_content %}
    {% include "sidebar.html" %}
{% endblock %}

{% block head_title %}
    {% include "title.html" %}
{% endblock %}

{% block content %}
    <div class="posts">
        {% if error %}
            <h2 class="post-title">{{ error }}</h2>
        {% else %}
            <div class="column three-fourths codesearch-results">

                {% for post in post_list %}
                    <div class="search-result">
                        <p class="search-result-box-title">
                            <a id="id_search_result_title" href="/{{ post.type }}/{{ post.id }}/">{{ post.title }}</a>
                        </p>
                        <div class="search-result-box">
                            <table class="search-result-box-table">
                                <tbody>
                                {% for each_match in post.content %}
                                    <tr>
                                        <td class="search-result-box-table-td">{{ forloop.counter }}</td>
                                        <td class="search-result-box-table-code">{{ each_match|add_em_tag }}</td>
                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                {% endfor %}
            </div>

        {% endif %}
    </div>
{% endblock %}