<!--
更新日志:
    2017.01.27 重构一下, 把 sidebar 分离出来
    2016.10.28 添加一个滑动到顶部的图标, 参考: http://www.ccvita.com/427.html 实现
-->

<!DOCTYPE html>
<html lang="cn">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="w@tch web site">

    <title>w@tch site</title>
    {% load static %}
    <link rel="stylesheet" href="{% static "my_pure-min.css" %}">
    <link rel="stylesheet" href="{% static "my_grids-responsive-min.css" %}">
    <link rel="stylesheet" href="{% static "my_blog.css" %}">
    <link rel="stylesheet" href="{% static "my_monokai.css" %}">
    <link rel="stylesheet" href="{% static "my_main.css" %}">
    <link rel="stylesheet" href="{% static "font-awesome/css/font-awesome.min.css" %}">
    {#    <link rel="stylesheet" href="{% static 'test.css' %}">#}
    <link rel="shortcut icon" href="{% static "favicon.ico" %}">
</head>
<body>
<div id="layout" class="pure-g">
    {% block sidebar_content %}
    {% endblock %}

    <div class="content pure-u-1 pure-u-md-3-4">
        {% block content %}
        {% endblock %}
        <div class="footer">
            <div class="pure-menu pure-menu-horizontal pure-menu-open">
                <ul>
                    <li><a id="id_about_me" href="{% url 'about_me' %}">About Me</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div style="display:none;" class="back-to" id="toolBackTop">
    <a title="返回顶部" onclick="window.scrollTo(0,0);return false;" href="#" class="back-top">
        返回顶部</a>
</div>

</body>


<!-- 以下是处理频繁点击的 js -->
<script>
    function check_is_valid_click() {
        var is_valid = "{{ is_valid_click }}" || null;
        if (is_valid == "invalid_click") {
            alert("操作频繁");
        }
    }
</script>

<!-- 以下是管理回到顶部图标的 js -->
<script src="{% static 'jquery.min.js' %}" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
        var bt = $('#toolBackTop');
        bt.css("right", 30);

        $(window).scroll(function () {
            var st = $(window).scrollTop();
            if (st > 30) {
                bt.show();
            } else {
                bt.hide();
            }
        });
    })
</script>
</html>